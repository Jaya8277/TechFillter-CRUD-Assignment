{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, vShow as _vShow, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"columns\"\n};\nconst _hoisted_2 = {\n  class: \"column is-three-fifths\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"table\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"th\", null, \"#\", -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"buttons\"\n};\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n  key: 1,\n  class: \"notification is-danger\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"strong\", null, \" No Data to Show\", -1 /* HOISTED */);\nconst _hoisted_10 = {\n  class: \"column\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_CustomerInputForm = _resolveComponent(\"CustomerInputForm\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [$options.data.length != 0 ? (_openBlock(), _createElementBlock(\"table\", _hoisted_3, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.columns, (column, index) => {\n    return _openBlock(), _createElementBlock(\"th\", {\n      key: index\n    }, _toDisplayString(column), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */)), _hoisted_4])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.data, (row, index_row) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index_row,\n      class: _normalizeClass({\n        editing: $data.editId === row.id\n      })\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.columns, (column, index) => {\n      return _openBlock(), _createElementBlock(\"td\", {\n        key: index\n      }, _toDisplayString(row[column]), 1 /* TEXT */);\n    }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"td\", null, [_createElementVNode(\"p\", _hoisted_5, [_createElementVNode(\"a\", {\n      class: \"button is-small is-primary\",\n      onClick: $event => $options.editCustomer(row)\n    }, \"Edit\", 8 /* PROPS */, _hoisted_6), _createElementVNode(\"a\", {\n      class: \"button is-small is-danger\",\n      onClick: $event => $options.deleteCustomer(row.id)\n    }, \"Delete\", 8 /* PROPS */, _hoisted_7)])])], 2 /* CLASS */);\n  }), 128 /* KEYED_FRAGMENT */))])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createTextVNode(\" Warning !\"), _hoisted_9]))]), _createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.addCustomer()),\n    class: \"button is-small is-danger\",\n    style: {\n      \"float\": \"right\",\n      \"margin-top\": \"-20px\"\n    }\n  }, \"X\", 512 /* NEED_PATCH */), [[_vShow, $data.showAdd == false]]), _createVNode(_component_CustomerInputForm, {\n    editId: $data.editId\n  }, null, 8 /* PROPS */, [\"editId\"])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","$options","data","length","_hoisted_3","_Fragment","_renderList","columns","column","index","key","_toDisplayString","_hoisted_4","row","index_row","_normalizeClass","editing","$data","editId","id","_hoisted_5","onClick","$event","editCustomer","_hoisted_6","deleteCustomer","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","href","_cache","addCustomer","style","showAdd","_createVNode","_component_CustomerInputForm"],"sources":["F:\\TechFillter-CRUD-Assignment\\crud-with-vue-js\\src\\views\\Customer.vue"],"sourcesContent":["<template> \n<div class=\"columns\">\n    <div class=\"column is-three-fifths\">\n        <table v-if=\"data.length!=0\" class=\"table\">\n            <thead>\n                <tr>\n                    <th v-for=\"(column,index) in columns\" :key=\"index\">{{column}}</th>\n                    <th>#</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"(row,index_row) in data\" :key=\"index_row\" v-bind:class=\"{ editing: editId === row.id }\" >\n                    <td v-for=\"(column,index) in columns\" :key=\"index\"> {{row[column]}} </td>    \n                    <td>\n                        <p class=\"buttons\">\n                            <a class=\"button is-small is-primary\" @click=\"editCustomer(row)\">Edit</a>\n                            <a class=\"button is-small is-danger\" @click=\"deleteCustomer(row.id)\">Delete</a>\n                        </p>\n                    </td>   \n                </tr>\n            </tbody>\n        </table> \n        <div v-else class=\"notification is-danger\">\n            Warning !<strong> No Data to Show</strong>\n        </div>\n    </div>\n    <div class=\"column\">\n        <a href=\"#\" v-show=\"showAdd == false\" @click=\"addCustomer()\" class=\"button is-small is-danger\" style=\"float:right;margin-top:-20px\" >X</a>\n        <CustomerInputForm :editId=\"editId\"></CustomerInputForm>\n    </div>\n</div>    \n</template>\n\n<script>\n\nimport CustomerInputForm from '../components/CustomerInputForm.vue';\n\nexport default {\n    name:'Customer',\n    components:{\n        CustomerInputForm,\n    },\n    data() {\n            return {\n                showAdd:true,\n                editId:'',\n            }\n        },\n    computed:{\n            data(){\n                return this.$store.state.customers;\n            },\n            columns(){\n                return this.$store.state.customers.length>0 ?\n                       Object.keys(this.$store.state.customers[0]) : []\n            }\n        },\n    methods:{\n            editCustomer(customer){\n                this.editId = customer.id;\n                this.showAdd = false;\n            },\n            addCustomer(){\n                this.editId = \"\";\n                this.showAdd = true;\n            },\n            deleteCustomer(customer){\n                this.$swal({\n                    title: 'Are you sure?',\n                    text: \"You won't be able to revert this!\",\n                    type: 'warning',\n                    showCancelButton: true,\n                    confirmButtonText: 'Yes, delete it!'\n                    }).then((result) => {\n                    if (result.value) {\n                        \n                        this.$store.dispatch('removeCustomer',customer).then((res)=>{\n                            if(res) this.$swal(\n                                    'Deleted!',\n                                    'Record has been deleted.',\n                                    'success'\n                                    )\n                            else this.$swal(\n                                    'Fail!',\n                                    'Fail to delete record.',\n                                    'error'\n                                    )                                 \n                        });\n                        \n\n                    }\n                    })\n            }\n        }\n        \n}\n</script>\n<style>\n.editing {\n    background-color: #fff8db;\n}\n</style>\n"],"mappings":";;EACKA,KAAK,EAAC;AAAS;;EACXA,KAAK,EAAC;AAAwB;;;EACFA,KAAK,EAAC;;gCAIvBC,mBAAA,CAAU,YAAN,GAAC;;EAOED,KAAK,EAAC;AAAS;;;;;EAQtBA,KAAK,EAAC;;gCACLC,mBAAA,CAAiC,gBAAzB,kBAAgB;;EAGpCD,KAAK,EAAC;AAAQ;;;uBAzBvBE,mBAAA,CA6BM,OA7BNC,UA6BM,GA5BFF,mBAAA,CAuBM,OAvBNG,UAuBM,GAtBWC,QAAA,CAAAC,IAAI,CAACC,MAAM,S,cAAxBL,mBAAA,CAkBQ,SAlBRM,UAkBQ,GAjBJP,mBAAA,CAKQ,gBAJJA,mBAAA,CAGK,c,kBAFDC,mBAAA,CAAkEO,SAAA,QAAAC,WAAA,CAArCL,QAAA,CAAAM,OAAO,GAAxBC,MAAM,EAACC,KAAK;yBAAxBX,mBAAA,CAAkE;MAA3BY,GAAG,EAAED;IAAK,GAAAE,gBAAA,CAAIH,MAAM;kCAC3DI,UAAU,C,KAGlBf,mBAAA,CAUQ,iB,kBATJC,mBAAA,CAQKO,SAAA,QAAAC,WAAA,CARyBL,QAAA,CAAAC,IAAI,GAAtBW,GAAG,EAACC,SAAS;yBAAzBhB,mBAAA,CAQK;MARgCY,GAAG,EAAEI,SAAS;MAASlB,KAAK,EAAAmB,eAAA;QAAAC,OAAA,EAAaC,KAAA,CAAAC,MAAM,KAAKL,GAAG,CAACM;MAAE;2BAC3FrB,mBAAA,CAAyEO,SAAA,QAAAC,WAAA,CAA5CL,QAAA,CAAAM,OAAO,GAAxBC,MAAM,EAACC,KAAK;2BAAxBX,mBAAA,CAAyE;QAAlCY,GAAG,EAAED;MAAK,GAAAE,gBAAA,CAAKE,GAAG,CAACL,MAAM;oCAChEX,mBAAA,CAKK,aAJDA,mBAAA,CAGI,KAHJuB,UAGI,GAFAvB,mBAAA,CAAyE;MAAtED,KAAK,EAAC,4BAA4B;MAAEyB,OAAK,EAAAC,MAAA,IAAErB,QAAA,CAAAsB,YAAY,CAACV,GAAG;OAAG,MAAI,iBAAAW,UAAA,GACrE3B,mBAAA,CAA+E;MAA5ED,KAAK,EAAC,2BAA2B;MAAEyB,OAAK,EAAAC,MAAA,IAAErB,QAAA,CAAAwB,cAAc,CAACZ,GAAG,CAACM,EAAE;OAAG,QAAM,iBAAAO,UAAA,E;uDAM/F5B,mBAAA,CAEM,OAFN6B,UAEM,G,iBAFqC,YAC9B,GAAAC,UAAiC,C,MAGlD/B,mBAAA,CAGM,OAHNgC,WAGM,G,gBAFFhC,mBAAA,CAA0I;IAAvIiC,IAAI,EAAC,GAAG;IAA4BT,OAAK,EAAAU,MAAA,QAAAA,MAAA,MAAAT,MAAA,IAAErB,QAAA,CAAA+B,WAAW;IAAIpC,KAAK,EAAC,2BAA2B;IAACqC,KAAoC,EAApC;MAAA;MAAA;IAAA;KAAsC,GAAC,0B,SAAlHhB,KAAA,CAAAiB,OAAO,W,GAC3BC,YAAA,CAAwDC,4BAAA;IAApClB,MAAM,EAAED,KAAA,CAAAC;EAAM,oC"},"metadata":{},"sourceType":"module","externalDependencies":[]}